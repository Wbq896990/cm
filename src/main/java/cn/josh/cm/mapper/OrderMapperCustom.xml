<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.josh.cm.mapper.OrderMapper" >
    <resultMap id="BaseResultMap" type="cn.josh.cm.po.Order" >
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="projectname" property="projectname" jdbcType="VARCHAR" />
        <result column="price" property="price" jdbcType="DOUBLE" />
        <result column="date" property="date" jdbcType="DATE" />
        <result column="name" property="name" jdbcType="VARCHAR" />
        <result column="phone" property="phone" jdbcType="VARCHAR" />
        <result column="carid" property="carid" jdbcType="VARCHAR" />
    </resultMap>

    <sql id="query_order_where">
        <if test="OrderCustom != null">
            <if test="OrderCustom.name != null and OrderCustom.name != ' '">
                order.name LIKE '%${OrderCustom.name}%'
            </if>
        </if>
    </sql>

    <select id="findOrderList" parameterType="cn.josh.cm.po.OrderQueryVo" resultType="cn.josh.cm.po.OrderCustom">
        SELECT * FROM order
        <where>
          <include refid="query_order_where"/>
        </where>
    </select>
</mapper>